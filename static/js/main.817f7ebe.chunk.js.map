{"version":3,"sources":["TitleSVG.js","components/auth/RegionSelect.js","assets/van.svg","assets/shop.svg","components/auth/DistributorSignup.js","components/auth/RetailerSignup.js","components/auth/DistributorLogin.js","components/auth/RetailerLogin.js","components/distributor/Status.js","components/distributor/DeliverySelect.js","components/distributor/Delivery.js","assets/hamburger.svg","components/distributor/DistributorPage.js","components/retailer/PrevOrder.js","components/retailer/PlaceOrder.js","components/retailer/CurrentOrder.js","components/retailer/RetailerPage.js","App.js","reportWebVitals.js","index.js"],"names":["TitleSVG","color","viewBox","xmlns","fill","fontFamily","fontWeight","textAnchor","fontSize","x","y","letterSpacing","Region","options","setRegion","message","onChange","placeholder","styles","customStyles","isSearchable","components","NoOptionsMessage","props","control","provided","state","transition","isFocused","border","paddingLeft","paddingRight","marginTop","height","boxShadow","position","top","left","backgroundColor","padding","dropdownIndicator","menu","singleValue","textAlign","lineHeight","content","display","width","transform","input","valueContainer","indicatorsContainer","DistributorSignup","loadingTime","loadingData","setLoadingData","status","setStatus","setRole","setData","useState","phone","setPhone","name","setName","region","password","setPassword","confirmPassword","setConfirmPassword","alert","setAlert","setOptions","useEffect","mounted","document","title","axios","get","then","res","data","map","value","label","catch","err","console","error","response","className","role","setTimeout","window","location","reload","to","src","van","alt","draggable","shop","onSubmit","e","preventDefault","post","log","auth","did","result","insertId","localStorage","setItem","token","type","id","required","pattern","target","RetailerSignup","rid","DistributorLogin","RetailerLogin","Status","hour","products","retailerCount","orders","orderCount","deliveryHour","setDeliveryHour","socket","confirmed","update","setUpdate","length","confirmedPercent","total","orderedPercent","ordered","buildStyles","pathColor","trailColor","pathTransitionDuration","toString","product","key","pid","onClick","emit","size","DeliverySelect","orderDetail","count","valueArray","defaultOption","isDelivered","defaultValue","option","push","valueTimeout","timeOut","pop","oid","clearTimeout","reactSvgComponentToMarkupString","Component","encodeURIComponent","renderToStaticMarkup","createElement","optionStyle","cursor","FiCheckCircle","FiXCircle","IoTimeOutline","verticalAlign","minHeight","borderRadius","marginRight","background","margin","justifyContent","Delivery","retailers","orderDetails","filter","amount","retailer","data-toggle","href","aria-expanded","aria-controls","toFixed","filtered","order","DistributorPage","setHour","setProducts","setRetailers","setRetailerCount","prevOrderDetails","setPrevOrderDetails","prevOrders","setPrevOrders","curOrderDetails","setCurOrderDetails","curOrders","setCurOrders","setOrderDetails","setOrders","setOrderCount","on","off","prevCount","totalCount","reduce","prev","cur","aria-haspopup","Hamburger","aria-labelledby","clear","path","exact","PrevOrder","distributor","previous","isPlaced","setIsPlaced","PlaceOrder","setCount","price","setPrice","small","setSmall","replaceAll","prevPrice","prevOrder","CurrentOrder","RetailerPage","setDistributor","setPrevious","setOrder","serverURL","process","SERVER_URL","defaults","baseURL","io","App","setLoadingTime","headers","getItem","user","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.817f7ebe.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default function TitleSVG({ color }) {\r\n    return (\r\n        <svg viewBox=\"0 0 100 25\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <text\r\n                fill={color ? color : \"#0078F0\"}\r\n                fontFamily=\"Comfortaa, cursive\"\r\n                fontWeight=\"700\"\r\n                textAnchor=\"middle\"\r\n                fontSize=\"16.1\"\r\n                x=\"50\"\r\n                y=\"15\"\r\n            >\r\n                DairyDash\r\n            </text>\r\n            <text\r\n                fill={color ? color : \"#0078F0 \"}\r\n                fontFamily=\"Montserrat, sans-serif\"\r\n                fontWeight=\"500\"\r\n                textAnchor=\"middle\"\r\n                fontSize=\"3.5\"\r\n                letterSpacing=\"1.75\"\r\n                x=\"50\"\r\n                y=\"23\"\r\n            >\r\n                MILK DELIVERY PLATFORM\r\n            </text>\r\n        </svg>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport Select, { components } from \"react-select\";\r\n\r\nexport default function Region({ options, setRegion, message }) {\r\n    return (\r\n        <Select\r\n            options={options}\r\n            onChange={setRegion}\r\n            placeholder='Region'\r\n            styles={customStyles}\r\n            isSearchable={false}\r\n            components={{\r\n                NoOptionsMessage: (props) => {\r\n                    return (\r\n                        <components.NoOptionsMessage {...props}>\r\n                            {message}\r\n                        </components.NoOptionsMessage>\r\n                    );\r\n                },\r\n            }}\r\n        />\r\n    );\r\n}\r\n\r\nconst customStyles = {\r\n    control: (provided, state) => ({\r\n        ...provided,\r\n        transition: state.isFocused ? \"0.4s\" : \"0.4s\",\r\n        border: state.isFocused\r\n            ? \"2px solid #0078f0 !important\"\r\n            : \"2px solid #c1e0ff\",\r\n        paddingLeft: \"0.74rem\",\r\n        paddingRight: \"0.74rem\",\r\n        marginTop: \"12px\",\r\n        height: \"38px\",\r\n        \"&:hover\": {\r\n            border: \"2px solid #7bbdff\",\r\n        },\r\n        boxShadow: \"none\",\r\n    }),\r\n    placeholder: (provided, state) => ({\r\n        position: \"absolute\",\r\n        fontWeight: \"400\",\r\n        color: \"#0078f0\",\r\n        top: state.isFocused ? \"-11px\" : \"6px\",\r\n        left: state.isFocused ? \"8px\" : \"0.74rem\",\r\n        fontSize: state.isFocused ? \"13.5px\" : \"15px\",\r\n        backgroundColor: state.isFocused ? \"white\" : \"\",\r\n        transition: state.isFocused ? \"0.4s\" : \"0.4s\",\r\n        padding: state.isFocused ? \"0 4px\" : \"\",\r\n    }),\r\n    dropdownIndicator: (provided, state) => ({\r\n        color: state.isFocused ? \"#0078f0 !important\" : \"#c1e0ff\",\r\n        \"&:hover\": {\r\n            color: \"#7bbdff\",\r\n        },\r\n    }),\r\n    menu: (provided) => ({\r\n        ...provided,\r\n        boxShadow: \"0px 2px 10px rgba(0, 55, 111, 0.3)\",\r\n    }),\r\n    singleValue: (provided) => ({\r\n        ...provided,\r\n        height: \"46px\",\r\n        position: \"absolute\",\r\n        top: \"14px\",\r\n        left: \"7px\",\r\n        textAlign: \"left\",\r\n        padding: \"0 3.5px\",\r\n        lineHeight: \"1.3\",\r\n        \"&::before\": {\r\n            padding: \"0 4px\",\r\n            content: \"'Region'\",\r\n            display: \"block\",\r\n            color: \"#0078f0\",\r\n            fontSize: \"13.5px\",\r\n            backgroundColor: \"white\",\r\n            width: \"min-content\",\r\n            transform: \"translateX(-4px)\",\r\n        },\r\n        backgroundColor: \"transparent !important\",\r\n    }),\r\n    input: () => ({}),\r\n    valueContainer: () => ({}),\r\n    indicatorsContainer: () => ({}),\r\n};\r\n","export default __webpack_public_path__ + \"static/media/van.f9898aff.svg\";","export default __webpack_public_path__ + \"static/media/shop.d00f512b.svg\";","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport TitleSVG from \"../../TitleSVG\";\r\nimport Region from \"./RegionSelect\";\r\nimport van from \"../../assets/van.svg\";\r\nimport shop from \"../../assets/shop.svg\";\r\nimport \"../../styles/auth.scss\";\r\n\r\nexport default function DistributorSignup({\r\n    loadingTime,\r\n    loadingData,\r\n    setLoadingData,\r\n    status,\r\n    setStatus,\r\n    setRole,\r\n    setData,\r\n}) {\r\n    const [phone, setPhone] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [region, setRegion] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n    const [alert, setAlert] = useState(\"\");\r\n    const [options, setOptions] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        if (mounted) {\r\n            document.title = \"Sign Up as Distributor – DairyDash\";\r\n\r\n            axios\r\n                .get(\"/distributor/region\")\r\n                .then((res) => {\r\n                    // console.log(res.data);\r\n                    setLoadingData(1);\r\n                    const options = res.data.map((data) => ({\r\n                        value: data.name,\r\n                        label: data.name,\r\n                    }));\r\n                    setOptions(options);\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err.response);\r\n                });\r\n        }\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (confirmPassword !== password) {\r\n            console.error(\"Passwords mismatch!\");\r\n            setAlert(\"Those passwords didn’t match! Try again...\");\r\n        } else {\r\n            axios\r\n                .post(\"/distributor/signup\", {\r\n                    phone: phone,\r\n                    name: name,\r\n                    region: region.value,\r\n                    password: password,\r\n                })\r\n                .then((res) => {\r\n                    console.log(\"POST request for distributor signup sent...\");\r\n                    if (res.data.alert) {\r\n                        console.log(res.data);\r\n                        setAlert(res.data.alert);\r\n                    } else if (!res.data.auth) {\r\n                        setAlert(\"User already exists! Log in to continue...\");\r\n                        console.log(res.data.message);\r\n                        setStatus(false);\r\n                    } else {\r\n                        // console.log(res.data);\r\n                        setData({\r\n                            did: res.data.result.insertId,\r\n                            phone: phone,\r\n                            name: name,\r\n                            region: region.value,\r\n                            password: password,\r\n                        });\r\n                        setStatus(true);\r\n                        setRole(true);\r\n\r\n                        localStorage.setItem(\"token\", res.data.token);\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err.response);\r\n                    if (err.response.status === 409) {\r\n                        setAlert(err.response.data);\r\n                    }\r\n                });\r\n        }\r\n    };\r\n\r\n    if (loadingTime) {\r\n        return (\r\n            <div className={`splash splash-${loadingData > 0 ? 1 : 0}`}>\r\n                <TitleSVG />\r\n                <div className=\"invisible mt-3\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                        <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else if (loadingData === 0) {\r\n        setTimeout(() => {\r\n            window.location.reload();\r\n        }, 10000);\r\n\r\n        return (\r\n            <div className={`splash`}>\r\n                <TitleSVG />\r\n                <div className=\"fade-in mt-3\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                        <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else if (status) {\r\n        return <Redirect to=\"/\" />;\r\n    } else {\r\n        return (\r\n            <div className=\"auth fade-in\">\r\n                <div className=\"login-title mb-3 pb-2 mx-auto\">\r\n                    <TitleSVG />\r\n                </div>\r\n                <h4 className=\"dark-blue mb-3\">Sign Up as</h4>\r\n                <div className=\"d-flex justify-content-center Comfortaa mb-3 pb-2\">\r\n                    <div className=\"btn shadow-btn-active bg-blue mx-3\">\r\n                        <img src={van} className=\"mx-1 btn-icon pointer-events-none\" alt=\"Distributor\" />\r\n                        <span className=\"mx-1 align-middle\">Distributor</span>\r\n                    </div>\r\n                    <Link to=\"/signup/retailer\" draggable=\"false\" className=\"btn shadow-btn dark-blue mx-3\">\r\n                        <img src={shop} className=\"btn-icon pointer-events-none\" alt=\"Retailer\" />\r\n                        <span className=\"mx-1 align-middle\">Retailer</span>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"light-bg form-container py-4 px-3\">\r\n                    <div>\r\n                        <form onSubmit={handleSubmit} className=\"form-group white-card mx-4 mt-3 mb-4 px-4 pt-1 pb-3\">\r\n                            <div className=\"pt-3\">\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"tel\"\r\n                                        id=\"phone\"\r\n                                        name=\"phone\"\r\n                                        required\r\n                                        title=\"must be a valid 10 digit mobile number\"\r\n                                        pattern=\"[5-9][0-9]{9}\"\r\n                                        onChange={(e) => {\r\n                                            setPhone(e.target.value);\r\n                                        }}\r\n                                        className={`form-control px-3 ${phone ? \"valid\" : \"\"}`}\r\n                                    ></input>\r\n                                    <label>Phone number</label>\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"name\"\r\n                                        name=\"name\"\r\n                                        required\r\n                                        onChange={(e) => {\r\n                                            setName(e.target.value);\r\n                                        }}\r\n                                        className=\"form-control px-3 mt-3\"\r\n                                    ></input>\r\n                                    <label>Full name</label>\r\n                                </div>\r\n                                <Region\r\n                                    options={options}\r\n                                    setRegion={setRegion}\r\n                                    message=\"All regions assigned with distributors!\"\r\n                                />\r\n                                <input value={region} required className=\"select-input\" onChange={() => {}} />\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id=\"pass\"\r\n                                        name=\"password\"\r\n                                        required\r\n                                        pattern=\"^.{8,}$\"\r\n                                        title=\"must contain at least 8 or more characters\"\r\n                                        onChange={(e) => {\r\n                                            setPassword(e.target.value);\r\n                                        }}\r\n                                        className={`form-control px-3 ${password ? \"valid\" : \"\"}`}\r\n                                    ></input>\r\n                                    <label>Password</label>\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id=\"confirm_pass\"\r\n                                        name=\"confirm_password\"\r\n                                        required\r\n                                        pattern=\"^.{8,}$\"\r\n                                        title=\"must contain at least 8 or more characters\"\r\n                                        onChange={(e) => {\r\n                                            setConfirmPassword(e.target.value);\r\n                                        }}\r\n                                        className={`form-control px-3 ${confirmPassword ? \"valid\" : \"\"}`}\r\n                                    ></input>\r\n                                    <label>Confirm Password</label>\r\n                                </div>\r\n                            </div>\r\n                            <small className={alert ? \"warning\" : \"invisible\"}>{alert}&nbsp;</small>\r\n                            <div className=\"mt-1 mb-2 field\">\r\n                                <button className=\"btn button mx-auto d-block bg-blue\" type=\"submit\">\r\n                                    Sign up\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                        <h5 className=\"text-center dark-blue-faded mb-2\">\r\n                            Already have an account?&nbsp;\r\n                            <Link to=\"/login/distributor\" draggable=\"false\" className=\"dark-blue text-decoration-none\">\r\n                                Log in\r\n                            </Link>\r\n                        </h5>\r\n                    </div>\r\n                    <div />\r\n                    <div />\r\n                    <div />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport TitleSVG from \"../../TitleSVG\";\r\nimport Region from \"./RegionSelect\";\r\nimport van from \"../../assets/van.svg\";\r\nimport shop from \"../../assets/shop.svg\";\r\n\r\nexport default function RetailerSignup({\r\n    loadingTime,\r\n    loadingData,\r\n    setLoadingData,\r\n    status,\r\n    setStatus,\r\n    setRole,\r\n    setData,\r\n}) {\r\n    const [phone, setPhone] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [region, setRegion] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n    const [alert, setAlert] = useState(\"\");\r\n    const [options, setOptions] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        if (mounted) {\r\n            document.title = \"Sign Up as Retailer – DairyDash\";\r\n\r\n            axios\r\n                .get(\"/retailer/region\")\r\n                .then((res) => {\r\n                    // console.log(res.data);\r\n                    setLoadingData(1);\r\n                    const options = res.data.map((data) => ({\r\n                        value: data.region,\r\n                        label: data.region,\r\n                    }));\r\n                    setOptions(options);\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err.response);\r\n                });\r\n        }\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (confirmPassword !== password) {\r\n            console.error(\"Passwords mismatch!\");\r\n            setAlert(\"Those passwords didn’t match. Try again!\");\r\n        } else {\r\n            axios\r\n                .post(\"/retailer/signup\", {\r\n                    phone: phone,\r\n                    name: name,\r\n                    region: region.value,\r\n                    password: password,\r\n                })\r\n                .then((res) => {\r\n                    console.log(\"POST request for retailer signup sent...\");\r\n                    if (res.data.alert) {\r\n                        console.log(res.data);\r\n                        setAlert(res.data.alert);\r\n                    } else if (!res.data.auth) {\r\n                        setAlert(\"User already exists! Log in to continue...\");\r\n                        console.log(res.data.message);\r\n                        setStatus(false);\r\n                    } else {\r\n                        // console.log(res);\r\n                        setData({\r\n                            rid: res.data.result.insertId,\r\n                            phone: phone,\r\n                            name: name,\r\n                            region: region.value,\r\n                            password: password,\r\n                        });\r\n                        setStatus(true);\r\n                        setRole(false);\r\n\r\n                        localStorage.setItem(\"token\", res.data.token);\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err.response);\r\n                    if (err.response.status === 409) {\r\n                        setAlert(err.response.data);\r\n                    }\r\n                });\r\n        }\r\n    };\r\n\r\n    if (loadingTime) {\r\n        return (\r\n            <div className={`splash splash-${loadingData > 0 ? 1 : 0}`}>\r\n                <TitleSVG />\r\n                <div className=\"invisible mt-3\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                        <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else if (loadingData === 0) {\r\n        setTimeout(() => {\r\n            window.location.reload();\r\n        }, 10000);\r\n\r\n        return (\r\n            <div className={`splash`}>\r\n                <TitleSVG />\r\n                <div className=\"fade-in mt-3\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                        <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else if (status) {\r\n        return <Redirect to=\"/\" />;\r\n    } else {\r\n        return (\r\n            <div className=\"auth fade-in\">\r\n                <div className=\"login-title mb-3 pb-2 mx-auto\">\r\n                    <TitleSVG />\r\n                </div>\r\n                <h4 className=\"dark-blue mb-3\">Sign Up as</h4>\r\n                <div className=\"d-flex justify-content-center Comfortaa mb-3 pb-2\">\r\n                    <Link to=\"/signup/distributor\" draggable=\"false\" className=\"btn shadow-btn dark-blue mx-3\">\r\n                        <img src={van} className=\"mx-1 btn-icon pointer-events-none\" alt=\"Distributor\" />\r\n                        <span className=\"mx-1 align-middle\">Distributor</span>\r\n                    </Link>\r\n                    <div className=\"btn shadow-btn-active bg-blue mx-3\">\r\n                        <img src={shop} className=\"btn-icon pointer-events-none\" alt=\"Retailer\" />\r\n                        <span className=\"mx-1 align-middle\">Retailer</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"light-bg form-container py-4 px-3\">\r\n                    <div>\r\n                        <form onSubmit={handleSubmit} className=\"form-group white-card mx-4 mt-3 mb-4 px-4 pt-1 pb-3\">\r\n                            <div className=\"pt-3\">\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"tel\"\r\n                                        id=\"phone\"\r\n                                        name=\"phone\"\r\n                                        required\r\n                                        title=\"must be a valid 10 digit mobile number\"\r\n                                        pattern=\"[5-9][0-9]{9}\"\r\n                                        onChange={(e) => {\r\n                                            setPhone(e.target.value);\r\n                                        }}\r\n                                        className={`form-control px-3 ${phone ? \"valid\" : \"\"}`}\r\n                                    ></input>\r\n                                    <label>Phone number</label>\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        id=\"name\"\r\n                                        name=\"name\"\r\n                                        required\r\n                                        onChange={(e) => {\r\n                                            setName(e.target.value);\r\n                                        }}\r\n                                        className=\"form-control px-3 mt-3\"\r\n                                    ></input>\r\n                                    <label>Full name</label>\r\n                                </div>\r\n                                <Region\r\n                                    options={options}\r\n                                    setRegion={setRegion}\r\n                                    message=\"No regions assigned with distributors!\"\r\n                                />\r\n                                <input value={region} required onChange={() => {}} className=\"select-input\" />\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id=\"pass\"\r\n                                        name=\"password\"\r\n                                        required\r\n                                        pattern=\"^.{8,}$\"\r\n                                        title=\"must contain at least 8 or more characters\"\r\n                                        onChange={(e) => {\r\n                                            setPassword(e.target.value);\r\n                                        }}\r\n                                        className={`form-control px-3 ${password ? \"valid\" : \"\"}`}\r\n                                    ></input>\r\n                                    <label>Password</label>\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id=\"confirm_pass\"\r\n                                        name=\"confirm_password\"\r\n                                        required\r\n                                        pattern=\"^.{8,}$\"\r\n                                        title=\"must contain at least 8 or more characters\"\r\n                                        onChange={(e) => {\r\n                                            setConfirmPassword(e.target.value);\r\n                                        }}\r\n                                        className={`form-control px-3 ${confirmPassword ? \"valid\" : \"\"}`}\r\n                                    ></input>\r\n                                    <label>Confirm Password</label>\r\n                                </div>\r\n                            </div>\r\n                            <small className={alert ? \"warning\" : \"invisible\"}>{alert}&nbsp;</small>\r\n                            <div className=\"mt-1 mb-2 field\">\r\n                                <button className=\"btn button mx-auto d-block bg-blue\" type=\"submit\">\r\n                                    Sign up\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                        <h5 className=\"text-center dark-blue-faded mb-2\">\r\n                            Already have an account?&nbsp;\r\n                            <Link to=\"/login/retailer\" draggable=\"false\" className=\"dark-blue text-decoration-none\">\r\n                                Log in\r\n                            </Link>\r\n                        </h5>\r\n                    </div>\r\n                    <div />\r\n                    <div />\r\n                    <div />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport TitleSVG from \"../../TitleSVG\";\r\nimport van from \"../../assets/van.svg\";\r\nimport shop from \"../../assets/shop.svg\";\r\n\r\nexport default function DistributorLogin({ loadingTime, status, setStatus, setRole, setData }) {\r\n    const [phone, setPhone] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const [alert, setAlert] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        document.title = \"Log In as Distributor – DairyDash\";\r\n    }, []);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios\r\n            .post(\"/distributor/login\", {\r\n                phone: phone,\r\n                password: password,\r\n            })\r\n            .then((res) => {\r\n                console.log(\"POST request for distributor login sent...\");\r\n                if (!res.data.auth) {\r\n                    setAlert(res.data.message);\r\n                    console.log(res.data.message);\r\n                    setStatus(false);\r\n                } else {\r\n                    setAlert(\"\");\r\n                    console.log(res);\r\n                    setData(res.data.result[0]);\r\n                    setStatus(true);\r\n                    setRole(true);\r\n\r\n                    localStorage.setItem(\"token\", res.data.token);\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.error(err.response);\r\n                if (err.response.status === 401) {\r\n                    setAlert(err.response.data);\r\n                }\r\n            });\r\n    };\r\n\r\n    if (loadingTime) {\r\n        return (\r\n            <div className=\"splash splash-1\">\r\n                <TitleSVG />\r\n            </div>\r\n        );\r\n    } else if (status) {\r\n        return <Redirect to=\"/\" />;\r\n    } else {\r\n        return (\r\n            <div className=\"auth fade-in\">\r\n                <div className=\"login-title mb-3 pb-2 mx-auto\">\r\n                    <TitleSVG />\r\n                </div>\r\n                <h4 className=\"dark-blue mb-3\">Log In as</h4>\r\n                <div className=\"d-flex justify-content-center Comfortaa mb-3 pb-2\">\r\n                    <div className=\"btn shadow-btn-active bg-blue mx-3\">\r\n                        <img src={van} className=\"mx-1 btn-icon pointer-events-none\" alt=\"Distributor\" />\r\n                        <span className=\"mx-1 align-middle\">Distributor</span>\r\n                    </div>\r\n                    <Link to=\"/login/retailer\" draggable=\"false\" className=\"btn shadow-btn dark-blue mx-3\">\r\n                        <img src={shop} className=\"btn-icon pointer-events-none\" alt=\"Retailer\" />\r\n                        <span className=\"mx-1 align-middle\">Retailer</span>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"light-bg form-container py-4 px-3\">\r\n                    <div>\r\n                        <form onSubmit={handleSubmit} className=\"form-group white-card mx-4 mt-3 mb-4 px-4 pt-1 pb-3\">\r\n                            <div className=\"pt-3\">\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"tel\"\r\n                                        id=\"phone\"\r\n                                        name=\"phone\"\r\n                                        required\r\n                                        onChange={(e) => {\r\n                                            setPhone(e.target.value);\r\n                                        }}\r\n                                        className=\"form-control px-3\"\r\n                                    ></input>\r\n                                    <label>Phone number</label>\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id=\"pass\"\r\n                                        name=\"password\"\r\n                                        required\r\n                                        onChange={(e) => {\r\n                                            setPassword(e.target.value);\r\n                                        }}\r\n                                        className=\"form-control px-3 mt-4\"\r\n                                    ></input>\r\n                                    <label>Password</label>\r\n                                </div>\r\n                            </div>\r\n                            <small className={alert ? \"warning\" : \"invisible\"}>{alert}&nbsp;</small>\r\n                            <div className=\"mt-1 mb-2 field\">\r\n                                <button className=\"btn button mx-auto d-block bg-blue\" type=\"submit\">\r\n                                    Log in\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                        <h5 className=\"text-center dark-blue-faded mb-2\">\r\n                            Don't have an account?&nbsp;\r\n                            <Link to=\"/signup/distributor\" draggable=\"false\" className=\"dark-blue text-decoration-none\">\r\n                                Sign up\r\n                            </Link>\r\n                        </h5>\r\n                    </div>\r\n                    <div />\r\n                    <div />\r\n                    <div />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport TitleSVG from \"../../TitleSVG\";\r\nimport van from \"../../assets/van.svg\";\r\nimport shop from \"../../assets/shop.svg\";\r\n\r\nexport default function RetailerLogin({ loadingTime, status, setStatus, setRole, setData }) {\r\n    const [phone, setPhone] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const [alert, setAlert] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        document.title = \"Log In as Retailer – DairyDash\";\r\n    }, []);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios\r\n            .post(\"/retailer/login\", {\r\n                phone: phone,\r\n                password: password,\r\n            })\r\n            .then((res) => {\r\n                console.log(\"POST request for retailer login sent...\");\r\n                if (!res.data.auth) {\r\n                    setAlert(res.data.message);\r\n                    console.log(res.data.message);\r\n                    setStatus(false);\r\n                } else {\r\n                    setAlert(\"\");\r\n                    console.log(res);\r\n                    setData(res.data.result[0]);\r\n                    setStatus(true);\r\n                    setRole(false);\r\n\r\n                    localStorage.setItem(\"token\", res.data.token);\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.error(err.response);\r\n                if (err.response.status === 401) {\r\n                    setAlert(err.response.data);\r\n                }\r\n            });\r\n    };\r\n\r\n    if (loadingTime) {\r\n        return (\r\n            <div className=\"splash splash-1\">\r\n                <TitleSVG />\r\n            </div>\r\n        );\r\n    } else if (status) {\r\n        return <Redirect to=\"/\" />;\r\n    } else {\r\n        return (\r\n            <div className=\"auth fade-in\">\r\n                <div className=\"login-title mb-3 pb-2 mx-auto\">\r\n                    <TitleSVG />\r\n                </div>\r\n                <h4 className=\"dark-blue mb-3\">Log In as</h4>\r\n                <div className=\"d-flex justify-content-center Comfortaa mb-3 pb-2\">\r\n                    <Link to=\"/login/distributor\" draggable=\"false\" className=\"btn shadow-btn dark-blue mx-3\">\r\n                        <img src={van} className=\"mx-1 btn-icon pointer-events-none\" alt=\"Distributor\" />\r\n                        <span className=\"mx-1 align-middle\">Distributor</span>\r\n                    </Link>\r\n                    <div className=\"btn shadow-btn-active bg-blue mx-3\">\r\n                        <img src={shop} className=\"btn-icon pointer-events-none\" alt=\"Retailer\" />\r\n                        <span className=\"mx-1 align-middle\">Retailer</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"light-bg form-container py-4 px-3\">\r\n                    <div>\r\n                        <form onSubmit={handleSubmit} className=\"form-group white-card mx-4 mt-3 mb-4 px-4 pt-1 pb-3\">\r\n                            <div className=\"pt-3\">\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"tel\"\r\n                                        id=\"phone\"\r\n                                        name=\"phone\"\r\n                                        required\r\n                                        onChange={(e) => {\r\n                                            setPhone(e.target.value);\r\n                                        }}\r\n                                        className=\"form-control px-3\"\r\n                                    ></input>\r\n                                    <label>Phone number</label>\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        id=\"pass\"\r\n                                        name=\"password\"\r\n                                        required\r\n                                        onChange={(e) => {\r\n                                            setPassword(e.target.value);\r\n                                        }}\r\n                                        className=\"form-control px-3 mt-4\"\r\n                                    ></input>\r\n                                    <label>Password</label>\r\n                                </div>\r\n                            </div>\r\n                            <small className={alert ? \"warning\" : \"invisible\"}>{alert}&nbsp;</small>\r\n                            <div className=\"mt-1 mb-2 field\">\r\n                                <button className=\"btn button mx-auto d-block bg-blue\" type=\"submit\">\r\n                                    Log in\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n\r\n                        <h5 className=\"text-center dark-blue-faded mb-2\">\r\n                            Don't have an account?&nbsp;\r\n                            <Link to=\"/signup/retailer\" draggable=\"false\" className=\"dark-blue text-decoration-none\">\r\n                                Sign up\r\n                            </Link>\r\n                        </h5>\r\n                    </div>\r\n                    <div />\r\n                    <div />\r\n                    <div />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { useEffect } from \"react\";\r\n// import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { IoIosArrowForward } from \"react-icons/io\";\r\nimport { CircularProgressbarWithChildren, buildStyles } from \"react-circular-progressbar\";\r\nimport \"react-circular-progressbar/dist/styles.css\";\r\nimport { BiMessageDetail } from \"react-icons/bi\";\r\nimport TitleSVG from \"../../TitleSVG\";\r\n\r\nexport default function Status({\r\n    hour,\r\n    products,\r\n    retailerCount,\r\n    orders,\r\n    orderCount,\r\n    deliveryHour,\r\n    setDeliveryHour,\r\n    data,\r\n    socket,\r\n    update,\r\n    setUpdate,\r\n}) {\r\n    // const [prompt, setPrompt] = useState(\"\");\r\n\r\n    const confirmed = orders.length / products.length;\r\n    const confirmedPercent = (orders.length / products.length / retailerCount.total) * 100;\r\n    const orderedPercent = (retailerCount.ordered / retailerCount.total) * 100;\r\n\r\n    useEffect(() => {\r\n        document.title = `${hour >= 12 ? \"Upcoming \" : \"\"}Delivery Summary – DairyDash`;\r\n    });\r\n\r\n    // let flag = false;\r\n    const endDelivery = (e) => {\r\n        e.preventDefault();\r\n\r\n        // if (flag) {\r\n        console.log(\"Ending the delivery...\");\r\n\r\n        setDeliveryHour(3);\r\n\r\n        socket.emit(\"delivery\", \"Delivery status set for all orders\");\r\n        axios\r\n            .post(`/d${data.did}/end-delivery`, {\r\n                region: data.region,\r\n            })\r\n            .then((res) => {\r\n                console.log(res.data.message);\r\n                setDeliveryHour(3);\r\n            })\r\n            .catch((err) => {\r\n                console.error(err.response);\r\n            });\r\n        // }\r\n        // setPrompt('This will mark all pending deliveries as \"Not Delivered\"');\r\n        // flag = true;\r\n    };\r\n\r\n    const prevDelivery = (e) => {\r\n        e.preventDefault();\r\n        setDeliveryHour(4);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <h3 className=\"blue fade-in\">{hour >= 12 ? \"Upcoming \" : \"\"}Delivery Summary</h3>\r\n            <div className=\"flex-grow-1 d-flex flex-column justify-content-evenly fade-in\">\r\n                <div className=\"chart-box mx-auto\">\r\n                    <CircularProgressbarWithChildren\r\n                        value={confirmedPercent}\r\n                        styles={buildStyles({\r\n                            pathColor: \"#0080FF\",\r\n                            trailColor: \"white\",\r\n                            pathTransitionDuration: 0.5,\r\n                        })}\r\n                    >\r\n                        {/* Foreground path */}\r\n                        <CircularProgressbarWithChildren\r\n                            value={orderedPercent}\r\n                            styles={buildStyles({\r\n                                pathColor: \"#003163\",\r\n                                trailColor: \"transparent\",\r\n                                pathTransitionDuration: 0.5,\r\n                            })}\r\n                        >\r\n                            <div>\r\n                                <h2 className=\"m-0 order-items-number blue\">{confirmed.toString()}</h2>\r\n                                <h6 className=\"order-items-text mb-1\">\r\n                                    retailer{confirmed === 1 ? \"\" : \"s\"} confirmed\r\n                                </h6>\r\n                                <h2 className=\"m-0 order-items-number dark-blue\">{retailerCount.ordered}</h2>\r\n                                <h6 className=\"order-items-text\">\r\n                                    retailer{retailerCount.ordered === 1 ? \"\" : \"s\"} ordered\r\n                                </h6>\r\n                            </div>\r\n                        </CircularProgressbarWithChildren>\r\n                    </CircularProgressbarWithChildren>\r\n                </div>\r\n                <div className=\"items-container flex-fill px-2 pb-2\">\r\n                    {products.map((product, key) => {\r\n                        return (\r\n                            <div key={product.pid} className={`items-box white-card px-3 py-2 ${product.name}`}>\r\n                                <h6 className=\"m-0 text-truncate\">{product.name}</h6>\r\n                                <h3>{orderCount[key + 1]}</h3>\r\n                                <p>pack{orderCount[key + 1] === 1 ? \"\" : \"s\"} for</p>\r\n                                <p>\r\n                                    <span>{retailerCount[key + 1]}</span> retailer\r\n                                    {retailerCount[key + 1] === 1 ? \"\" : \"s\"}\r\n                                </p>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n                {deliveryHour === 2 || deliveryHour === 4 ? (\r\n                    <div className=\"mt-3 mb-1\">\r\n                        <button className=\"blue-btn btn button bg-blue px-4\" onClick={endDelivery}>\r\n                            End Delivery\r\n                        </button>\r\n                    </div>\r\n                ) : deliveryHour === 3 ? (\r\n                    <div className=\"mt-3 mb-1\">\r\n                        <button className=\"blue-btn btn button bg-blue px-4\" onClick={prevDelivery}>\r\n                            Previous Delivery\r\n                        </button>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"mt-3 mb-2\"></div>\r\n                )}\r\n            </div>\r\n            <div>\r\n                <div className=\"pb-4 mb-1 fade-in\">\r\n                    {/* {prompt ? (\r\n                        <small className={`d-block py-2`}>{prompt}</small>\r\n                    ) : hour === 11 ? ( */}\r\n                    {hour === 11 ? (\r\n                        <small className={`d-block py-2 small-text`}>\r\n                            <BiMessageDetail /> Finish your delivery before 12pm!\r\n                        </small>\r\n                    ) : deliveryHour === 2 ? (\r\n                        <small className={`d-block py-2 small-text`}>\r\n                            <BiMessageDetail /> End Delivery will mark all pending deliveries as \"Not Delivered\"\r\n                        </small>\r\n                    ) : (\r\n                        <small className={`d-block pt-1 pb-2 small-text invisible`}>&nbsp;</small>\r\n                    )}\r\n                    <Link to=\"/delivery\" className=\"dark-blue-btn btn bg-dark-blue py-2 pe-2 ps-3\">\r\n                        <span>\r\n                            <div>Show Delivery Details</div>\r\n                            <div>\r\n                                <IoIosArrowForward size=\"18px\" />\r\n                            </div>\r\n                        </span>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"footer-title mx-auto mb-2\">\r\n                    <TitleSVG color=\"#859BB0\" />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { createElement } from \"react\";\r\nimport Select from \"react-select\";\r\nimport axios from \"axios\";\r\nimport { FiCheckCircle, FiXCircle } from \"react-icons/fi\";\r\nimport { IoTimeOutline } from \"react-icons/io5\";\r\nimport { renderToStaticMarkup } from \"react-dom/server\";\r\n\r\nexport default function DeliverySelect({ orderDetail, socket }) {\r\n    let count = 0;\r\n    let valueArray = [];\r\n\r\n    const options = [\r\n        {\r\n            value: 0,\r\n            label: \"Not Delivered\",\r\n        },\r\n        {\r\n            value: 1,\r\n            label: \"Pending\",\r\n        },\r\n        {\r\n            value: 2,\r\n            label: \"Delivered\",\r\n        },\r\n    ];\r\n\r\n    const defaultOption =\r\n        orderDetail.isDelivered === 2 ? options[2] : orderDetail.isDelivered === 0 ? options[0] : options[1];\r\n\r\n    const setDelivery = (option) => {\r\n        count++;\r\n        valueArray.push(option.value);\r\n        let valueTimeout = 0;\r\n\r\n        const timeOut = setTimeout(() => {\r\n            valueTimeout = valueArray.pop();\r\n            console.log(valueTimeout);\r\n            // console.log(count);\r\n\r\n            socket.emit(\"delivery\", \"Delivery status set for order \" + orderDetail.oid);\r\n            axios\r\n                .post(`/d/o${orderDetail.oid}/delivery`, {\r\n                    value: valueTimeout,\r\n                })\r\n                .then((res) => {\r\n                    console.log(res.data.message);\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err.response);\r\n                });\r\n            count--;\r\n        }, 5000);\r\n\r\n        if (count !== 1) {\r\n            clearTimeout(timeOut);\r\n        }\r\n\r\n        setTimeout(() => {\r\n            count = 0;\r\n            valueArray = [];\r\n        }, 5010);\r\n    };\r\n\r\n    return (\r\n        <Select\r\n            options={[options[2], options[0]]}\r\n            styles={customStyles}\r\n            isSearchable={false}\r\n            defaultValue={defaultOption}\r\n            onChange={setDelivery}\r\n        />\r\n    );\r\n}\r\n\r\nconst reactSvgComponentToMarkupString = (Component, props) =>\r\n    `data:image/svg+xml,${encodeURIComponent(renderToStaticMarkup(createElement(Component, props)))}`;\r\n\r\nconst optionStyle = (provided, state) => {\r\n    // console.log(state);\r\n    return {\r\n        ...provided,\r\n        fontWeight: \"500\",\r\n        fontSize: \"0.9rem\",\r\n        cursor: \"pointer\",\r\n        transition: \"0.15s\",\r\n        color:\r\n            state.data.value === 2\r\n                ? \"#15bd15\"\r\n                : state.data.value === 0\r\n                ? \"red\"\r\n                : state.data.value === 1\r\n                ? \"#859BB0\"\r\n                : \"black\",\r\n        \":before\": {\r\n            content:\r\n                state.data.value === 2\r\n                    ? `url(${reactSvgComponentToMarkupString(FiCheckCircle, { color: \"#15bd15\" })})`\r\n                    : state.data.value === 0\r\n                    ? `url(${reactSvgComponentToMarkupString(FiXCircle, { color: \"red\" })})`\r\n                    : state.data.value === 1\r\n                    ? `url(${reactSvgComponentToMarkupString(IoTimeOutline, { color: \"#859BB0\" })})`\r\n                    : ``,\r\n            verticalAlign: \"-12%\",\r\n            paddingRight: \"0.3rem\",\r\n        },\r\n        \":hover\": {\r\n            transition: \"0.15s\",\r\n            color:\r\n                state.data.value === 2\r\n                    ? \"#138513\"\r\n                    : state.data.value === 0\r\n                    ? \"#b00000\"\r\n                    : state.data.value === 1\r\n                    ? \"#566471\"\r\n                    : \"black\",\r\n            \":before\": {\r\n                content:\r\n                    state.data.value === 2\r\n                        ? `url(${reactSvgComponentToMarkupString(FiCheckCircle, { color: \"#138513\" })})`\r\n                        : state.data.value === 0\r\n                        ? `url(${reactSvgComponentToMarkupString(FiXCircle, { color: \"#b00000\" })})`\r\n                        : state.data.value === 1\r\n                        ? `url(${reactSvgComponentToMarkupString(IoTimeOutline, { color: \"#566471\" })})`\r\n                        : ``,\r\n            },\r\n        },\r\n    };\r\n};\r\n\r\nconst customStyles = {\r\n    control: (provided) => ({\r\n        ...provided,\r\n        border: \"none\",\r\n        boxShadow: \"none\",\r\n        width: \"9.1rem\",\r\n        minHeight: \"1.9rem\",\r\n    }),\r\n    indicatorsContainer: () => ({ display: \"none\" }),\r\n    dropdownIndicator: () => ({}),\r\n    menu: (provided) => ({\r\n        ...provided,\r\n        boxShadow: \"0px 8px 20px rgba(0, 55, 111, 0.1)\",\r\n        border: \"1px solid #c1e0ff\",\r\n        borderRadius: \"15px\",\r\n        marginRight: \"0\",\r\n        width: \"10rem\",\r\n    }),\r\n    option: (provided, state) => {\r\n        return {\r\n            ...optionStyle(provided, state),\r\n            background: \"transparent\",\r\n            borderRadius: \"15px\",\r\n            \":active\": {\r\n                background: \"transparent\",\r\n            },\r\n        };\r\n    },\r\n    singleValue: (provided, state) => {\r\n        return {\r\n            ...optionStyle(provided, state),\r\n            margin: \"0\",\r\n        };\r\n    },\r\n    valueContainer: (provided, state) => ({\r\n        ...provided,\r\n        justifyContent: \"flex-end\",\r\n        padding: \"0\",\r\n    }),\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DeliverySelect from \"./DeliverySelect\";\r\nimport { IoIosArrowForward, IoIosArrowDown } from \"react-icons/io\";\r\nimport { FaDotCircle } from \"react-icons/fa\";\r\nimport { BiMessageDetail } from \"react-icons/bi\";\r\nimport { IoIosCall } from \"react-icons/io\";\r\nimport TitleSVG from \"../../TitleSVG\";\r\n\r\nexport default function Delivery({\r\n    products,\r\n    retailers,\r\n    orderDetails,\r\n    orders,\r\n    orderCount,\r\n    socket,\r\n    hour,\r\n    deliveryHour,\r\n}) {\r\n    return (\r\n        <>\r\n            <h3 className=\"blue fade-in\">{hour >= 12 ? \"Upcoming \" : \"\"}Delivery Details</h3>\r\n            <div className=\"delivery-container flex-grow-1 fade-in\">\r\n                <div className=\"product-chart-box\">\r\n                    {products.map((product, key) => {\r\n                        return (\r\n                            <div key={product.pid} className={`${product.name} col`}>\r\n                                <h6 className=\"m-0\">{product.name}</h6>\r\n                                <h3>{orderCount[key + 1]}</h3>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n                <div className=\"items-order-container pb-2\">\r\n                    {orderDetails\r\n                        .filter((orderDetail) => orderDetail.amount > 0)\r\n                        .map((orderDetail, key) => {\r\n                            const retailer = retailers.filter((retailer) => retailer.rid === orderDetail.rid)[0];\r\n                            return (\r\n                                <div key={orderDetail.oid} className=\"stores-order-box bg-white py-2 px-3 m-2\">\r\n                                    <div className=\"d-flex justify-content-between align-items-end overflow-hidden\">\r\n                                        <div className=\"pt-1\">\r\n                                            <h5\r\n                                                className=\"store-name dark-blue text-start collapsed\"\r\n                                                data-toggle=\"collapse\"\r\n                                                href={`#collapse-${key}`}\r\n                                                role=\"button\"\r\n                                                aria-expanded=\"false\"\r\n                                                aria-controls={`collapse-${key}`}\r\n                                            >\r\n                                                <IoIosArrowForward className=\"arrow-forward\" />\r\n                                                <IoIosArrowDown className=\"arrow-down\" />\r\n                                                {retailer.name}\r\n                                            </h5>\r\n                                            <div className=\"collapse text-start px-3\" id={`collapse-${key}`}>\r\n                                                <a href={`tel:${retailer.phone}`} className=\"store-call dark-blue\">\r\n                                                    <IoIosCall />\r\n                                                    {retailer.phone}\r\n                                                </a>\r\n                                            </div>\r\n                                        </div>\r\n                                        <h3 className=\"fw-bolder dark-blue m-0 px-1 bg-white rounded\">\r\n                                            ₹{orderDetail.amount.toFixed(2)}\r\n                                        </h3>\r\n                                    </div>\r\n                                    <div className=\"ps-2 pe-1 py-1 d-flex justify-content-between\">\r\n                                        <div className=\"d-flex me-2\">\r\n                                            {products.length > 0 ? (\r\n                                                orders\r\n                                                    .filter((filtered) => filtered.oid === orderDetail.oid)\r\n                                                    .map((order, key) => {\r\n                                                        // console.log(products[key]);\r\n                                                        return (\r\n                                                            <div\r\n                                                                key={order.pid}\r\n                                                                className={`d-inline-block pe-2 ps-1 d-flex align-items-center ${products[key].name}`}\r\n                                                            >\r\n                                                                <FaDotCircle size=\"15px\" />\r\n                                                                &nbsp;\r\n                                                                <h3 className=\"m-0 fw-bolder d-inline-block\">\r\n                                                                    {order.count}\r\n                                                                </h3>\r\n                                                            </div>\r\n                                                        );\r\n                                                    })\r\n                                            ) : (\r\n                                                <></>\r\n                                            )}\r\n                                        </div>\r\n                                        {deliveryHour === 1 || deliveryHour === 2 || deliveryHour === 4 ? (\r\n                                            <DeliverySelect orderDetail={orderDetail} socket={socket} />\r\n                                        ) : (\r\n                                            <small className={`d-block py-2 small-text`}>\r\n                                                <BiMessageDetail /> Not delivery hours!\r\n                                            </small>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div className=\"pb-4 mb-1 fade-in\">\r\n                    <small className={`d-block py-2 small-text${hour === 11 ? \"\" : \" invisible\"}`}>\r\n                        <BiMessageDetail /> Finish your delivery before 12pm!\r\n                    </small>\r\n                    <Link to=\"/\" className=\"dark-blue-btn btn bg-dark-blue py-2 pe-2 ps-3\">\r\n                        <span>\r\n                            <div>Show Delivery Summary</div>\r\n                            <div>\r\n                                <IoIosArrowForward size=\"18px\" />\r\n                            </div>\r\n                        </span>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"footer-title mx-auto mb-2\">\r\n                    <TitleSVG color=\"#859BB0\" />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/hamburger.e8355311.svg\";","import React, { useState, useEffect } from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Status from \"./Status\";\r\nimport Delivery from \"./Delivery\";\r\nimport \"../../styles/distributor.scss\";\r\nimport Hamburger from \"../../assets/hamburger.svg\";\r\nimport TitleSVG from \"../../TitleSVG\";\r\n\r\nexport default function DistributorPage({\r\n    loadingTime,\r\n    loadingData,\r\n    setLoadingData,\r\n    socket,\r\n    hour,\r\n    status,\r\n    data,\r\n    setHour,\r\n}) {\r\n    const [products, setProducts] = useState([]);\r\n    const [retailers, setRetailers] = useState([]);\r\n    const [retailerCount, setRetailerCount] = useState({});\r\n    const [prevOrderDetails, setPrevOrderDetails] = useState([]);\r\n    const [prevOrders, setPrevOrders] = useState([]);\r\n    const [curOrderDetails, setCurOrderDetails] = useState([]);\r\n    const [curOrders, setCurOrders] = useState([]);\r\n    const [orderDetails, setOrderDetails] = useState([]);\r\n    const [orders, setOrders] = useState([]);\r\n    const [orderCount, setOrderCount] = useState({ total: 0 });\r\n    const [update, setUpdate] = useState(false);\r\n    const [deliveryHour, setDeliveryHour] = useState(0);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        if (mounted) {\r\n            socket.on(\"order\", (message) => {\r\n                console.log(message);\r\n                setTimeout(() => {\r\n                    setUpdate(!update);\r\n                });\r\n            });\r\n        }\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n            socket.off(\"order\");\r\n        };\r\n    });\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        if (mounted) {\r\n            axios\r\n                .get(`/${data.did}/products`)\r\n                .then((res) => {\r\n                    // console.log(res.data);\r\n                    setLoadingData(loadingData++);\r\n                    setProducts(res.data);\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err.response);\r\n                });\r\n\r\n            axios\r\n                .get(`/d${data.did}/status`)\r\n                .then((res) => {\r\n                    // console.log(res.data);\r\n                    setLoadingData(loadingData++);\r\n                    setRetailerCount((prevCount) => {\r\n                        return {\r\n                            ...prevCount,\r\n                            total: res.data.retailers.length,\r\n                        };\r\n                    });\r\n                    setRetailers(res.data.retailers);\r\n                    setPrevOrderDetails(res.data.prevOrderDetails);\r\n                    setPrevOrders(res.data.prevOrders);\r\n                    setCurOrderDetails(res.data.curOrderDetails);\r\n                    setCurOrders(res.data.curOrders);\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err.response);\r\n                });\r\n        }\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [data, update]);\r\n\r\n    useEffect(() => {\r\n        if (hour < 12) {\r\n            if (hour < 7) {\r\n                console.log(\"Delivery hour started!\");\r\n                setDeliveryHour(1);\r\n            } else {\r\n                if (prevOrderDetails.length > 0) {\r\n                    if (prevOrderDetails.filter((orderDetail) => orderDetail.isDelivered === null).length > 0) {\r\n                        console.log(\"It is Delivery Hours!\");\r\n                        setDeliveryHour(2);\r\n                    } else {\r\n                        console.log(\"Delivery has finished!\");\r\n                        if (deliveryHour !== 4) setDeliveryHour(3);\r\n                        if (deliveryHour === 2) setDeliveryHour(3);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            console.log(\"Not Delivery Hours!\");\r\n            setDeliveryHour(0);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [hour, prevOrderDetails, curOrderDetails, curOrders, prevOrders]);\r\n\r\n    useEffect(() => {\r\n        if (deliveryHour === 0 || deliveryHour === 3) {\r\n            setOrderDetails(curOrderDetails);\r\n            setOrders(curOrders);\r\n        } else if (deliveryHour === 1 || deliveryHour === 2 || deliveryHour === 4) {\r\n            setOrderDetails(prevOrderDetails);\r\n            setOrders(prevOrders);\r\n        }\r\n    }, [curOrderDetails, curOrders, deliveryHour, prevOrderDetails, prevOrders]);\r\n\r\n    // useEffect(() => {\r\n    //     if (hour < 12) {\r\n    //         if (hour < 7) {\r\n    //             console.log(\"Delivery hour started!\");\r\n    //             setDeliveryHour(1);\r\n    //         } else if (orderDetails.length > 0) {\r\n    //             if (orderDetails.filter((orderDetail) => orderDetail.isDelivered === null).length > 0) {\r\n    //                 console.log(\"It is Delivery Hours!\");\r\n    //                 setDeliveryHour(2);\r\n    //             } else {\r\n    //                 console.log(\"Delivery has finished!\");\r\n    //                 if (deliveryHour !== 4) {\r\n    //                     setDeliveryHour(3);\r\n    //                 }\r\n    //             }\r\n    //         } else {\r\n    //             console.log(\"Else case!\");\r\n    //             setDeliveryHour(2);\r\n    //         }\r\n    //         // } else {\r\n    //         //     console.log(\"Not Delivery Hours!\");\r\n    //         //     setDeliveryHour(0);\r\n    //     }\r\n    //     // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    // }, [hour, orderDetails]);\r\n\r\n    useEffect(() => {\r\n        console.log(deliveryHour);\r\n    }, [deliveryHour]);\r\n\r\n    useEffect(() => {\r\n        products.map((product) => {\r\n            setOrderCount((prevCount) => {\r\n                return {\r\n                    ...prevCount,\r\n                    [product.pid]: 0,\r\n                };\r\n            });\r\n            return setRetailerCount((prevCount) => {\r\n                return {\r\n                    ...prevCount,\r\n                    [product.pid]: 0,\r\n                };\r\n            });\r\n        });\r\n\r\n        if (orders.length > 0) {\r\n            var totalCount = orders.reduce((prev, cur) => prev + cur.count, 0);\r\n            setOrderCount((prevCount) => {\r\n                return { ...prevCount, total: totalCount };\r\n            });\r\n\r\n            orders.map((order) => {\r\n                setOrderCount((prevCount) => {\r\n                    return { ...prevCount, [order.pid]: prevCount[order.pid] + order.count };\r\n                });\r\n                return setRetailerCount((prevCount) => {\r\n                    return { ...prevCount, [order.pid]: prevCount[order.pid] + (order.count > 0) };\r\n                });\r\n            });\r\n        }\r\n    }, [orders, products]);\r\n\r\n    useEffect(() => {\r\n        setRetailerCount((prevCount) => {\r\n            return {\r\n                ...prevCount,\r\n                ordered: orderDetails.filter((orderDetail) => orderDetail.amount > 0).length,\r\n            };\r\n        });\r\n    }, [orderDetails]);\r\n\r\n    const props = {\r\n        products,\r\n        retailers,\r\n        retailerCount,\r\n        orderDetails,\r\n        orders,\r\n        orderCount,\r\n        socket,\r\n        hour,\r\n        deliveryHour,\r\n        setDeliveryHour,\r\n        setHour,\r\n        data,\r\n        update,\r\n        setUpdate,\r\n    };\r\n\r\n    if (loadingTime) {\r\n        return (\r\n            <div className={`splash splash-${loadingData > 0 ? 1 : 0}`}>\r\n                <TitleSVG />\r\n                <div className=\"invisible mt-3\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                        <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else if (loadingData === 0) {\r\n        setTimeout(() => {\r\n            window.location.reload();\r\n        }, 10000);\r\n\r\n        return (\r\n            <div className={`splash`}>\r\n                <TitleSVG />\r\n                <div className=\"fade-in mt-3\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                        <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else if (status) {\r\n        return (\r\n            <div className=\"home fade-in\">\r\n                <div className=\"title-head\">\r\n                    <div className=\"user-title\">\r\n                        <h3 className=\"dark-blue Comfortaa text-truncate\">{data.name}</h3>\r\n                        <h6 className=\"dark-blue-faded text-truncate\">{data.region}</h6>\r\n                    </div>\r\n                    <div className=\"dropdown\">\r\n                        <button\r\n                            className=\"btn dropdown-toggle p-2\"\r\n                            type=\"button\"\r\n                            id=\"dropdownMenuButton\"\r\n                            data-toggle=\"dropdown\"\r\n                            aria-haspopup=\"true\"\r\n                            aria-expanded=\"false\"\r\n                        >\r\n                            <img src={Hamburger} alt=\"Menu\" />\r\n                        </button>\r\n                        <div\r\n                            className=\"dropdown-menu dropdown-menu-right white-card shadow-btn\"\r\n                            aria-labelledby=\"dropdownMenuButton\"\r\n                        >\r\n                            <div className=\"d-flex flex-column align-items-center\">\r\n                                <a\r\n                                    href=\"/login/distributor\"\r\n                                    onClick={() => {\r\n                                        localStorage.clear();\r\n                                    }}\r\n                                    className=\"w-100 text-center text-decoration-none\"\r\n                                >\r\n                                    Log out\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"light-bg center-container pt-4 px-2 flex-fill\">\r\n                    <Switch>\r\n                        <Route path=\"/\" exact>\r\n                            <Status {...props} />\r\n                        </Route>\r\n                        <Route path=\"/delivery\" exact>\r\n                            <Delivery {...props} />\r\n                        </Route>\r\n                        <Route path=\"/deliver*\">\r\n                            <Redirect to=\"/delivery\" />\r\n                        </Route>\r\n                        <Route path=\"*\">\r\n                            <Redirect to=\"/\" />\r\n                        </Route>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else {\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IoIosArrowForward } from \"react-icons/io\";\r\nimport { FiCheckCircle, FiXCircle, FiAlertCircle } from \"react-icons/fi\";\r\nimport { IoTimeOutline } from \"react-icons/io5\";\r\nimport { BiMessageDetail } from \"react-icons/bi\";\r\nimport TitleSVG from \"../../TitleSVG\";\r\n\r\nexport default function PrevOrder({ distributor, previous, isPlaced, setIsPlaced, hour }) {\r\n    useEffect(() => {\r\n        document.title = \"Previous Order Summary – DairyDash\";\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <h3 className=\"blue fade-in\">Previous Order Summary</h3>\r\n            {previous.result ? (\r\n                <div className=\"flex-grow-1 d-flex flex-column justify-content-evenly fade-in\">\r\n                    <div className=\"my-1\">\r\n                        {previous.isDelivered === 2 ? (\r\n                            <div>\r\n                                <FiCheckCircle size=\"130px\" className=\"green py-1\" />\r\n                                <h3 className=\"green pb-1\">Delivered</h3>\r\n                                <h5 className=\"dark-blue p-1 my-1\">\r\n                                    Your order has been delivered by {distributor.name}\r\n                                </h5>\r\n                            </div>\r\n                        ) : previous.isDelivered === 0 ? (\r\n                            <div>\r\n                                <FiXCircle size=\"130px\" className=\"red py-1\" />\r\n                                <h3 className=\"red pb-1\">Not Delivered</h3>\r\n                                <h5 className=\"dark-blue p-1 my-1\">\r\n                                    Your order could not be delivered by {distributor.name}\r\n                                </h5>\r\n                            </div>\r\n                        ) : (\r\n                            <div>\r\n                                <IoTimeOutline size=\"150px\" className=\"dark-blue-faded py-1\" />\r\n                                <h3 className=\"dark-blue-faded pb-1\">Pending</h3>\r\n                                <h5 className=\"dark-blue p-1 my-1\">\r\n                                    Your order is yet to be delivered by {distributor.name}\r\n                                </h5>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"items-container px-2 pb-4\">\r\n                        {previous.result.map((product) => {\r\n                            return (\r\n                                <div key={product.pid} className={`items-box white-card ${product.name} px-2 py-2`}>\r\n                                    <h6 className=\"m-0 text-truncate\">{product.name}</h6>\r\n                                    <h3>{product.count}</h3>\r\n                                    <p>pack{product.count === 1 ? \"\" : \"s\"}</p>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                    <h5 className=\"text-center dark-blue-faded px-1\">\r\n                        Haven’t received your order?\r\n                        <br />\r\n                        <a href={`tel:${distributor.phone}`} className=\"dark-blue call\">\r\n                            Call distributor\r\n                        </a>\r\n                    </h5>\r\n                </div>\r\n            ) : (\r\n                <div className=\"flex-grow-1 d-flex flex-column justify-content-center mb-5 fade-in\">\r\n                    <div className=\"my-1 py-1\">\r\n                        <FiAlertCircle size=\"130px\" className=\"dark-blue-faded py-1\" />\r\n                    </div>\r\n                    <h5 className=\"dark-blue p-1 my-1\">No previous orders exists!</h5>\r\n                    <h5 className=\"text-center dark-blue-faded px-1 py-2\">\r\n                        Have any queries for your distributor?\r\n                        <br />\r\n                        <a href={`tel: ${distributor.phone}`} className=\"dark-blue call\">\r\n                            Call distributor\r\n                        </a>\r\n                    </h5>\r\n                </div>\r\n            )}\r\n            <div>\r\n                <div className=\"pb-4 mb-1 fade-in\">\r\n                    {isPlaced === 0 ? (\r\n                        <>\r\n                            {hour === 18 ? (\r\n                                <small className={`d-block py-2 small-text`}>\r\n                                    <BiMessageDetail /> Place your order before 7pm!\r\n                                </small>\r\n                            ) : hour >= 19 || hour < 7 ? (\r\n                                <small className={`d-block py-2 small-text`}>\r\n                                    <BiMessageDetail /> Order can't be placed until after 7am!\r\n                                </small>\r\n                            ) : (\r\n                                <small className={`d-block py-2 small-text invisible`}>&nbsp;</small>\r\n                            )}\r\n                            <Link\r\n                                to=\"/order\"\r\n                                onClick={() => {\r\n                                    if (isPlaced === 2) {\r\n                                        setIsPlaced(1);\r\n                                    }\r\n                                }}\r\n                                className={`dark-blue-btn btn bg-dark-blue py-2 pe-2 ps-3 \r\n                                ${hour >= 19 || hour < 7 ? \" disabled\" : \"\"}`}\r\n                            >\r\n                                <span>\r\n                                    <div>Place Next Order</div>\r\n                                    <div>\r\n                                        <IoIosArrowForward size=\"18px\" />\r\n                                    </div>\r\n                                </span>\r\n                            </Link>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <small className={`d-block py-2 small-text invisible`}>&nbsp;</small>\r\n                            <Link\r\n                                to=\"/order\"\r\n                                onClick={() => {\r\n                                    if (isPlaced === 2) {\r\n                                        setIsPlaced(1);\r\n                                    }\r\n                                }}\r\n                                className={`dark-blue-btn btn bg-dark-blue py-2 pe-2 ps-3`}\r\n                            >\r\n                                <span>\r\n                                    <div>Show Current Order</div>\r\n                                    <div>\r\n                                        <IoIosArrowForward size=\"18px\" />\r\n                                    </div>\r\n                                </span>\r\n                            </Link>\r\n                        </>\r\n                    )}\r\n                </div>\r\n                <div className=\"footer-title mx-auto mb-2\">\r\n                    <TitleSVG color=\"#859BB0\" />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { IoIosArrowForward } from \"react-icons/io\";\r\nimport { BiMessageDetail } from \"react-icons/bi\";\r\nimport TitleSVG from \"../../TitleSVG\";\r\n\r\nexport default function PlaceOrder({\r\n    data,\r\n    products,\r\n    count,\r\n    setCount,\r\n    price,\r\n    setPrice,\r\n    isPlaced,\r\n    setIsPlaced,\r\n    order,\r\n    previous,\r\n    socket,\r\n    hour,\r\n}) {\r\n    const [small, setSmall] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if (isPlaced === 0) {\r\n            document.title = \"Place Upcoming Order – DairyDash\";\r\n        } else {\r\n            document.title = \"Edit Current Order – DairyDash\";\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const placeOrder = (e) => {\r\n        e.preventDefault();\r\n        socket.emit(\"order\", \"Order request by \" + data.rid);\r\n\r\n        axios\r\n            .post(`/r${data.rid}/order${isPlaced === 2 ? \"/edit\" : \"\"}`, {\r\n                count,\r\n                price,\r\n                rid: data.rid,\r\n                prevOrder: order ? order : products,\r\n            })\r\n            .then((res) => {\r\n                console.log(\"Retailer order sent...\");\r\n                console.log(res.data.message);\r\n                setIsPlaced(res.data.isPlaced);\r\n            })\r\n            .catch((err) => {\r\n                console.error(err.response.data);\r\n                setSmall(err.response.data);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <h3 className=\"blue fade-in\">{isPlaced === 0 ? \"Place Upcoming Order\" : \"Edit Current Order\"}</h3>\r\n            <div className=\"flex-grow-1 d-flex flex-column justify-content-evenly fade-in\">\r\n                <div className=\"items-order-container\">\r\n                    {products.map((product) => {\r\n                        return (\r\n                            <div key={product.pid} className=\"items-order-box bg-white my-2 py-2\">\r\n                                <h4 className={\"mb-2 \" + product.name}>{product.name}</h4>\r\n                                <div className=\"items-button-box mb-1\">\r\n                                    <button\r\n                                        className={\"btn button bg-blue p-0 bg-\" + product.name.replaceAll(\" \", \"\")}\r\n                                        onClick={() => {\r\n                                            if (count[product.pid] > 0) {\r\n                                                setCount((prevCount) => {\r\n                                                    return {\r\n                                                        ...prevCount,\r\n                                                        [product.pid]: prevCount[product.pid] - 1,\r\n                                                        total: prevCount.total - 1,\r\n                                                    };\r\n                                                });\r\n                                                setPrice((prevPrice) => {\r\n                                                    return {\r\n                                                        ...prevPrice,\r\n                                                        total: prevPrice.total - product.price,\r\n                                                    };\r\n                                                });\r\n                                            }\r\n                                        }}\r\n                                    >\r\n                                        <h4>-</h4>\r\n                                    </button>\r\n                                    <h3 className={\"my-0 mx-2 px-1 py-1 border-\" + product.name.replaceAll(\" \", \"\")}>\r\n                                        {count[product.pid]}\r\n                                    </h3>\r\n                                    {/* <span>{count[product.pid]}</span> */}\r\n                                    {/* &nbsp; */}\r\n                                    {/* <span>₹{price[product.pid]}</span> */}\r\n                                    <button\r\n                                        className={\"btn button bg-blue p-0 bg-\" + product.name.replaceAll(\" \", \"\")}\r\n                                        onClick={() => {\r\n                                            setCount((prevCount) => {\r\n                                                return {\r\n                                                    ...prevCount,\r\n                                                    [product.pid]: prevCount[product.pid] + 1,\r\n                                                    total: prevCount.total + 1,\r\n                                                };\r\n                                            });\r\n                                            setPrice((prevPrice) => {\r\n                                                return {\r\n                                                    ...prevPrice,\r\n                                                    total: prevPrice.total + product.price,\r\n                                                };\r\n                                            });\r\n                                        }}\r\n                                    >\r\n                                        <h4>+</h4>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n\r\n                {/* <div>{count.total}</div> */}\r\n                <h5 className=\"total-text my-1\">Total</h5>\r\n                <div>\r\n                    <h3 className=\"m-0 fw-normal dark-blue\">₹{price.total.toFixed(2)}</h3>\r\n                </div>\r\n                <div className=\"mt-1 mb-2\">\r\n                    <button className=\"blue-btn btn button bg-blue px-4\" onClick={placeOrder}>\r\n                        Confirm\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div className=\"pb-4 mb-1 fade-in\">\r\n                    <small className={`d-block py-2 small-text${small ? \"\" : \" invisible\"}`}>\r\n                        <BiMessageDetail /> {small}\r\n                    </small>\r\n                    {previous ? (\r\n                        <Link to=\"/\" className=\"dark-blue-btn btn bg-dark-blue py-2 pe-2 ps-3\">\r\n                            <span>\r\n                                <div>Show Previous Order</div>\r\n                                <div>\r\n                                    <IoIosArrowForward size=\"18px\" />\r\n                                </div>\r\n                            </span>\r\n                        </Link>\r\n                    ) : (\r\n                        <button\r\n                            className=\"dark-blue-btn btn bg-dark-blue py-2 pe-2 ps-3\"\r\n                            type=\"submit\"\r\n                            onClick={() => {\r\n                                setIsPlaced(1);\r\n                            }}\r\n                        >\r\n                            <span>\r\n                                <div>Show Current Order</div>\r\n                                <div>\r\n                                    <IoIosArrowForward size=\"18px\" />\r\n                                </div>\r\n                            </span>\r\n                        </button>\r\n                    )}\r\n                </div>\r\n                <div className=\"footer-title mx-auto mb-2\">\r\n                    <TitleSVG color=\"#859BB0\" />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IoIosArrowForward } from \"react-icons/io\";\r\nimport { BiMessageDetail } from \"react-icons/bi\";\r\nimport TitleSVG from \"../../TitleSVG\";\r\n\r\nexport default function CurrentOrder({ hour, order, products, count, isPlaced, setIsPlaced }) {\r\n    useEffect(() => {\r\n        document.title = \"Current Order Summary – DairyDash\";\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <h3 className=\"blue fade-in\">Current Order Summary</h3>\r\n            <div className=\"flex-grow-1 d-flex flex-column justify-content-evenly fade-in\">\r\n                <div className=\"items-order-container\">\r\n                    {order && isPlaced === 1\r\n                        ? order.map((product) => {\r\n                              return (\r\n                                  <div key={product.pid} className=\"items-order-box bg-white my-2 pt-2 pb-3\">\r\n                                      <h4 className={\"m-1 \" + product.name}>{product.name}</h4>\r\n                                      <h3 className={\"my-0 mx-2 px-1 py-1 \" + product.name}>{product.count}</h3>\r\n                                  </div>\r\n                              );\r\n                          })\r\n                        : products.map((product, key) => {\r\n                              return (\r\n                                  <div key={product.pid} className=\"items-order-box bg-white my-2 pt-2 pb-3\">\r\n                                      <h4 className={\"m-1 \" + product.name}>{product.name}</h4>\r\n                                      <h3 className={\"my-0 mx-2 px-1 py-1 \" + product.name}>{count[key + 1]}</h3>\r\n                                  </div>\r\n                              );\r\n                          })}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <div className=\"pb-4 mb-1 fade-in\">\r\n                    {isPlaced === 1 && hour < 19 && hour >= 7 ? (\r\n                        <>\r\n                            <small className={`d-block py-2 small-text`}>\r\n                                <BiMessageDetail /> Your order can be edited once before 7pm!\r\n                            </small>\r\n                            <button\r\n                                className=\"dark-blue-btn btn bg-dark-blue py-2 pe-2 ps-3\"\r\n                                type=\"submit\"\r\n                                onClick={() => {\r\n                                    setIsPlaced(2);\r\n                                }}\r\n                            >\r\n                                <span>\r\n                                    <div>Edit Current Order</div>\r\n                                    <div>\r\n                                        <IoIosArrowForward size=\"18px\" />\r\n                                    </div>\r\n                                </span>\r\n                            </button>\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            <small className={`d-block py-2 small-text`}>\r\n                                <BiMessageDetail />\r\n                                {isPlaced === 3\r\n                                    ? \" Your order has already been edited!\"\r\n                                    : hour >= 19 || hour < 7\r\n                                    ? \" Your order can't be edited anymore!\"\r\n                                    : \"\"}\r\n                            </small>\r\n                            <Link to=\"/\" className=\"dark-blue-btn btn bg-dark-blue py-2 pe-2 ps-3\" type=\"submit\">\r\n                                <span>\r\n                                    <div>Show Previous Order</div>\r\n                                    <div>\r\n                                        <IoIosArrowForward size=\"18px\" />\r\n                                    </div>\r\n                                </span>\r\n                            </Link>\r\n                        </>\r\n                    )}\r\n                </div>\r\n                <div className=\"footer-title mx-auto mb-2\">\r\n                    <TitleSVG color=\"#859BB0\" />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport PrevOrder from \"./PrevOrder\";\r\nimport PlaceOrder from \"./PlaceOrder\";\r\nimport CurrentOrder from \"./CurrentOrder\";\r\nimport \"../../styles/retailer.scss\";\r\nimport Hamburger from \"../../assets/hamburger.svg\";\r\nimport TitleSVG from \"../../TitleSVG\";\r\n\r\nexport default function RetailerPage({ loadingTime, loadingData, setLoadingData, status, data, socket, hour }) {\r\n    const [products, setProducts] = useState([]);\r\n    const [distributor, setDistributor] = useState([]);\r\n    const [previous, setPrevious] = useState([]);\r\n    const [count, setCount] = useState({ total: 0 });\r\n    const [price, setPrice] = useState({ total: 0 });\r\n    const [isPlaced, setIsPlaced] = useState(0);\r\n    const [order, setOrder] = useState([]);\r\n    const [update, setUpdate] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        if (mounted) {\r\n            socket.on(\"delivery\", (message) => {\r\n                console.log(message);\r\n                setTimeout(() => {\r\n                    setUpdate(!update);\r\n                });\r\n            });\r\n        }\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        };\r\n    });\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n\r\n        if (mounted) {\r\n            axios\r\n                .get(`/${data.rid}/products`)\r\n                .then((res) => {\r\n                    // console.log(res.data);\r\n                    setLoadingData(loadingData++);\r\n                    setProducts(res.data);\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err.response);\r\n                });\r\n\r\n            axios\r\n                .get(`/r${data.rid}/status`)\r\n                .then((res) => {\r\n                    // console.log(res.data.message);\r\n                    setLoadingData(loadingData++);\r\n                    setIsPlaced(res.data.isPlaced);\r\n                    setOrder(res.data.result);\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err.response);\r\n                });\r\n\r\n            // setInterval(() => {\r\n            axios\r\n                .get(`/r${data.rid}/previous`)\r\n                .then((res) => {\r\n                    // console.log(res.data.result);\r\n                    setLoadingData(loadingData++);\r\n                    setPrevious(res.data);\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err.response);\r\n                });\r\n            // }, 5000);\r\n\r\n            axios\r\n                .get(`/r${data.rid}/distributor`)\r\n                .then((res) => {\r\n                    // console.log(res.data[0]);\r\n                    setLoadingData(loadingData++);\r\n                    setDistributor(res.data[0]);\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err.response);\r\n                });\r\n        }\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [update]);\r\n\r\n    useEffect(() => {\r\n        products.map((product) => {\r\n            return setCount((prevCount) => {\r\n                return {\r\n                    ...prevCount,\r\n                    [product.pid]: 0,\r\n                };\r\n            });\r\n        });\r\n    }, [products]);\r\n\r\n    useEffect(() => {\r\n        products.map((product) => {\r\n            return setPrice((prevCount) => {\r\n                return {\r\n                    ...prevCount,\r\n                    [product.pid]: count[product.pid] * product.price,\r\n                };\r\n            });\r\n        });\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [count]);\r\n\r\n    const props = {\r\n        data,\r\n        products,\r\n        distributor,\r\n        previous,\r\n        count,\r\n        setCount,\r\n        price,\r\n        setPrice,\r\n        order,\r\n        isPlaced,\r\n        setIsPlaced,\r\n        socket,\r\n        hour,\r\n    };\r\n\r\n    if (loadingTime) {\r\n        return (\r\n            <div className={`splash splash-${loadingData > 0 ? 1 : 0}`}>\r\n                <TitleSVG />\r\n                <div className=\"invisible mt-3\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                        <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else if (loadingData === 0) {\r\n        setTimeout(() => {\r\n            window.location.reload();\r\n        }, 10000);\r\n\r\n        return (\r\n            <div className={`splash`}>\r\n                <TitleSVG />\r\n                <div className=\"fade-in mt-3\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                        <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else if (status) {\r\n        return (\r\n            <div className=\"home fade-in\">\r\n                <div className=\"title-head\">\r\n                    <div className=\"user-title\">\r\n                        <h3 className=\"dark-blue Comfortaa text-truncate\">{data.name}</h3>\r\n                        <h6 className=\"dark-blue-faded text-truncate\">{data.region}</h6>\r\n                    </div>\r\n                    <div className=\"dropdown\">\r\n                        <button\r\n                            className=\"btn dropdown-toggle p-2\"\r\n                            type=\"button\"\r\n                            id=\"dropdownMenuButton\"\r\n                            data-toggle=\"dropdown\"\r\n                            aria-haspopup=\"true\"\r\n                            aria-expanded=\"false\"\r\n                        >\r\n                            <img src={Hamburger} alt=\"Menu\" />\r\n                        </button>\r\n                        <div\r\n                            className=\"dropdown-menu dropdown-menu-right white-card shadow-btn\"\r\n                            aria-labelledby=\"dropdownMenuButton\"\r\n                        >\r\n                            <div className=\"d-flex flex-column align-items-center\">\r\n                                <a\r\n                                    href={`tel:${distributor.phone}`}\r\n                                    className=\"w-100 text-center text-decoration-none my-1\"\r\n                                >\r\n                                    Call Distributor\r\n                                </a>\r\n                                <a\r\n                                    href=\"/login/retailer\"\r\n                                    onClick={() => {\r\n                                        localStorage.clear();\r\n                                    }}\r\n                                    className=\"w-100 text-center text-decoration-none my-1\"\r\n                                >\r\n                                    Log out\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"light-bg center-container pt-4 px-2 flex-fill\">\r\n                    <Switch>\r\n                        <Route path=\"/\" exact>\r\n                            <PrevOrder {...props} />\r\n                        </Route>\r\n                        <Route path=\"/order\" exact>\r\n                            {isPlaced === 0 || isPlaced === 2 ? (\r\n                                hour < 19 && hour >= 7 ? (\r\n                                    <PlaceOrder {...props} />\r\n                                ) : (\r\n                                    <Redirect to=\"/\" />\r\n                                )\r\n                            ) : isPlaced === 1 || isPlaced === 3 ? (\r\n                                <CurrentOrder {...props} />\r\n                            ) : (\r\n                                <Redirect to=\"/\" />\r\n                            )}\r\n                        </Route>\r\n                        <Route path=\"*\">\r\n                            <Redirect to=\"/\" />\r\n                        </Route>\r\n                    </Switch>\r\n                    {/* {previous ? (\r\n                        <Switch>\r\n                            <Route path=\"/\" exact>\r\n                                <PrevOrder {...props} />\r\n                            </Route>\r\n                            <Route path={[\"/signup/retailer\", \"/login/retailer\"]}>\r\n                                <Redirect to=\"/\" />\r\n                            </Route>\r\n                        </Switch>\r\n                    ) : (\r\n                        <Redirect to=\"/order\" />\r\n                    )}\r\n\r\n                    {isPlaced === 0 || isPlaced === 2 ? (\r\n                        <Switch>\r\n                            <Route path=\"/order\" exact>\r\n                                <PlaceOrder {...props} />\r\n                            </Route>\r\n                            <Route path={[\"/signup/retailer\", \"/login/retailer\"]}>\r\n                                <Redirect to=\"/order\" />\r\n                            </Route>\r\n                        </Switch>\r\n                    ) : isPlaced === 1 || isPlaced === 3 ? (\r\n                        <Switch>\r\n                            <Route path=\"/order\" exact>\r\n                                <CurrentOrder {...props} />\r\n                            </Route>\r\n                            <Route path={[\"/signup/retailer\", \"/login/retailer\"]}>\r\n                                <Redirect to=\"/order\" />\r\n                            </Route>\r\n                        </Switch>\r\n                    ) : (\r\n                        <></>\r\n                    )} */}\r\n                </div>\r\n            </div>\r\n        );\r\n    } else {\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport DistributorSignup from \"./components/auth/DistributorSignup\";\r\nimport RetailerSignup from \"./components/auth/RetailerSignup\";\r\nimport DistributorLogin from \"./components/auth/DistributorLogin\";\r\nimport RetailerLogin from \"./components/auth/RetailerLogin\";\r\nimport DistributorPage from \"./components/distributor/DistributorPage\";\r\nimport RetailerPage from \"./components/retailer/RetailerPage\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\nimport \"./App.scss\";\r\n\r\nconst serverURL = process.env.SERVER_URL || \"https://dairydash.herokuapp.com\";\r\naxios.defaults.baseURL = serverURL;\r\nconst socket = io(serverURL);\r\nsocket.on(\"connection\");\r\n\r\nexport default function App() {\r\n    const [loadingTime, setLoadingTime] = useState(true);\r\n    const [loadingData, setLoadingData] = useState(0);\r\n\r\n    const [status, setStatus] = useState(false);\r\n    const [role, setRole] = useState(true);\r\n    const [data, setData] = useState({});\r\n    const [hour, setHour] = useState(12);\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => {\r\n            setLoadingTime(false);\r\n        }, 2000);\r\n\r\n        axios\r\n            .get(\"/status\", {\r\n                headers: {\r\n                    \"access-token\": localStorage.getItem(\"token\"),\r\n                },\r\n            })\r\n            .then((res) => {\r\n                // console.log(res.data);\r\n                console.log(res.data.hour);\r\n                setHour(res.data.hour);\r\n                if (res.data.auth) {\r\n                    setStatus(true);\r\n                    setData(res.data.user);\r\n                    if (res.data.user.did) {\r\n                        setRole(true);\r\n                    } else if (res.data.user.rid) {\r\n                        setRole(false);\r\n                    }\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.error(err.response);\r\n                setStatus(false);\r\n            });\r\n    }, []);\r\n\r\n    const props = {\r\n        loadingTime,\r\n        loadingData,\r\n        setLoadingData,\r\n        socket,\r\n        hour,\r\n        status,\r\n        role,\r\n        data,\r\n        setHour,\r\n        setStatus,\r\n        setRole,\r\n        setData,\r\n    };\r\n\r\n    return (\r\n        <div className=\"Container\">\r\n            <div className=\"App\">\r\n                <Switch>\r\n                    {status ? (\r\n                        role ? (\r\n                            // Route for logged in distributor\r\n                            <Route path=\"/\">\r\n                                <DistributorPage {...props} />\r\n                            </Route>\r\n                        ) : (\r\n                            // Route for logged in retailer\r\n                            <Route path=\"/\">\r\n                                <RetailerPage {...props} />\r\n                            </Route>\r\n                        )\r\n                    ) : (\r\n                        // Route for logged out distributors and retailers\r\n                        <Switch>\r\n                            <Route path=\"/\" exact>\r\n                                <DistributorSignup {...props} />\r\n                            </Route>\r\n                            <Route path=\"/signup/distributor\" exact>\r\n                                <DistributorSignup {...props} />\r\n                            </Route>\r\n                            <Route path=\"/signup/retailer\" exact>\r\n                                <RetailerSignup {...props} />\r\n                            </Route>\r\n                            <Route path=\"/login/distributor\" exact>\r\n                                <DistributorLogin {...props} />\r\n                            </Route>\r\n                            <Route path=\"/login/retailer\" exact>\r\n                                <RetailerLogin {...props} />\r\n                            </Route>\r\n                            <Route path=\"*\">\r\n                                <Redirect to=\"/\" />\r\n                            </Route>\r\n                        </Switch>\r\n                    )}\r\n                    <Route path=\"*\">\r\n                        <Redirect to=\"/\" />\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.scss\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <App />\r\n        </BrowserRouter>\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}